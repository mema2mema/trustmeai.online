<!DOCTYPE html><html lang="en"><head>
<meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Register â€” TrustMe AI</title>
<link rel="stylesheet" href="style.css"/><style>.auth-wrap{max-width:520px;margin:40px auto}</style>
</head><body>
<header><div class="container" style="display:flex;align-items:center;justify-content:space-between;padding:12px 0;">
<div class="brand"><div class="brand-badge"></div><div style="letter-spacing:.4px">TrustMe AI</div></div>
<nav class="nav"><a href="index.html">Home</a><a href="strategy.html">Strategy</a><a href="assets.html">Assets</a><a href="deposit.html">Deposit</a><a href="withdraw.html">Withdraw</a></nav>
<div id="authArea" class="auth-area"></div></div></header>
<main class="container auth-wrap"><div class="card"><div class="stripe"></div>
<h1>Create Account</h1>
<label class="small">Email</label><input id="regEmail" class="input" type="email" placeholder="you@example.com">
<label class="small" style="margin-top:.6rem">Password</label><input id="regPass" class="input" type="password" placeholder="At least 6 characters">
<label class="small" style="margin-top:.6rem">Re-type Password</label><input id="regPass2" class="input" type="password" placeholder="Repeat password">
<div class="grid grid-2" style="margin-top:.6rem;gap:.6rem"><div>
<label class="small">Email Code</label><input id="regCode" class="input" type="text" placeholder="6-digit code"></div>
<div style="display:flex;align-items:flex-end"><button id="sendCodeBtn" class="btn" type="button" style="width:100%">Send Code</button></div></div>
<label class="small" style="margin-top:.6rem">Referral Code (optional)</label><input id="regRef" class="input" type="text" placeholder="ABC123 (optional)">
<button id="regBtn" class="btn" style="width:100%;margin-top:.9rem">Create account</button>
<div class="small" style="margin-top:.6rem">Already have an account? <a href="login.html">Login</a></div></div></main>
<script src="script.js"></script><script>
document.addEventListener('DOMContentLoaded', ()=>{
 document.getElementById('sendCodeBtn').addEventListener('click', ()=>{
  const email=(document.getElementById('regEmail').value||'').trim().toLowerCase();
  if(!email||!/^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(email)) return alert('Enter a valid email first');
  const code=String(Math.floor(100000+Math.random()*900000));
  const store=JSON.parse(localStorage.getItem('tm_email_codes')||'{}'); store[email]={code,exp:Date.now()+10*60*1000};
  localStorage.setItem('tm_email_codes', JSON.stringify(store)); alert('Demo: your confirmation code is '+code+' (valid 10 min).');
 });
 document.getElementById('regBtn').addEventListener('click', async ()=>{
  const email=(document.getElementById('regEmail').value||'').trim().toLowerCase();
  const pass=document.getElementById('regPass').value||''; const pass2=document.getElementById('regPass2').value||'';
  const codeInput=(document.getElementById('regCode').value||'').trim(); const ref=(document.getElementById('regRef').value||'').trim();
  if(!email||!/^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(email)) return alert('Enter a valid email');
  if(pass.length<6) return alert('Password must be at least 6 characters');
  if(pass!==pass2) return alert('Passwords do not match');
  const codes=JSON.parse(localStorage.getItem('tm_email_codes')||'{}'); const rec=codes[email];
  if(!rec||!rec.code||Date.now()>rec.exp) return alert('Email confirmation code is invalid or expired');
  if(codeInput!==rec.code) return alert('Incorrect email confirmation code');
  const ok=await tm_register({email,pass,ref}); if(!ok) return alert('Email already exists');
  const next=new URLSearchParams(location.search).get('next')||'index.html'; location.href=next;
 });
});
</script></body></html>