<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>TrustMe AI ‚Äî App</title>
<style>
:root{
  --bg:#ffffff; --ink:#0f172a; --muted:#64748b; --line:#e2e8f0; --emerald:#10b981; --brand:#111827;
}
*{box-sizing:border-box}
html,body{margin:0;background:var(--bg);color:var(--ink);font:16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial}
.container{max-width:1100px;margin:0 auto;padding:0 16px}
.card{border:1px solid var(--line);border-radius:16px;background:#fff}
.card .hd{padding:14px;border-bottom:1px solid var(--line);font-weight:800}
.card .bd{padding:14px}
.btn{padding:10px 16px;border-radius:14px;border:1px solid var(--line);background:#fff;font-weight:800;cursor:pointer}
.btn.primary{background:var(--brand);color:#fff;border-color:transparent}
.btn.outline{background:#fff;color:#111;border-color:var(--line)}
.btn.ghost{background:transparent;border-color:transparent;color:var(--muted)}
.btn.block{display:block;width:100%}
.btn.disabled{opacity:.5;pointer-events:none}
header{position:sticky;top:0;z-index:10;background:rgba(255,255,255,.92);backdrop-filter:blur(8px);border-bottom:1px solid var(--line)}
.bar{display:flex;align-items:center;justify-content:space-between;padding:12px 0}
.logo{width:32px;height:32px;border-radius:10px;background:var(--brand);color:#fff;display:grid;place-items:center;font-weight:900}
.bottom{position:fixed;left:0;right:0;bottom:0;border-top:1px solid var(--line);background:#fff}
.tabs{display:grid;grid-template-columns:repeat(5,1fr);text-align:center;font-size:12px}
.tab{padding:10px 0;cursor:pointer}
.active{color:var(--emerald);font-weight:800}
.row{display:grid;gap:12px}
@media(min-width:860px){.row-2{grid-template-columns:1fr 1fr}.row-3{grid-template-columns:repeat(3,1fr)}.row-4{grid-template-columns:repeat(4,1fr)}}
.titlebar{position:sticky;top:56px;background:#fff;border-bottom:1px solid var(--line);display:flex;align-items:center;gap:8px;padding:12px 0;z-index:9}
.pill{display:flex;align-items:center;justify-content:space-between;padding:12px;border:1px solid var(--line);border-radius:12px;font-weight:800}
.qrbox{display:grid;place-items:center;border:1px solid var(--line);border-radius:12px;padding:12px}
.kv{display:grid;grid-template-columns:1fr auto;gap:8px;align-items:center}
.kpi{text-align:center}
.kpi .cap{font-size:12px;color:var(--muted)}
.kpi .val{font-size:22px;font-weight:900}
.muted{color:var(--muted)}
/* Sheet */
.sheet{position:fixed;left:0;right:0;bottom:-100%;background:#fff;border-top-left-radius:16px;border-top-right-radius:16px;box-shadow:0 -12px 24px rgba(0,0,0,.1);transition:.28s;z-index:50}
.sheet.open{bottom:0}
.sheet .handle{width:64px;height:5px;background:#e5e7eb;border-radius:999px;margin:8px auto 0}
.sheet .hd{padding:10px 16px;font-weight:900;border-bottom:1px solid var(--line)}
.sheet .body{max-height:60vh;overflow-y:auto;padding:6px 10px 14px}
.opt{display:flex;align-items:center;justify-content:space-between;gap:10px;padding:12px;border:1px solid var(--line);border-radius:12px;margin:8px 6px;cursor:pointer}
.opt .l{display:flex;align-items:center;gap:10px}
/* Modal */
.modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(15,23,42,.35)}
.modal.open{display:flex}
.modal .panel{width:min(560px,96vw);background:#fff;border:1px solid var(--line);border-radius:16px}
.modal .panel .hd{display:flex;align-items:center;justify-content:space-between;padding:14px;border-bottom:1px solid var(--line);font-weight:900}
.modal .panel .bd{padding:14px}
.modal .actions{display:flex;gap:8px;justify-content:flex-end;padding:14px;border-top:1px solid var(--line)}
.auth-title{font-size:22px;font-weight:900;margin-bottom:8px}
.auth-tabs{display:flex;gap:20px;font-weight:800;color:var(--muted);border-bottom:1px solid var(--line);margin:10px 0 16px}
.auth-tab{padding:8px 0;cursor:pointer;position:relative}
.auth-tab.active{color:#111}
.auth-tab.active::after{content:'';position:absolute;left:0;right:0;bottom:-1px;height:2px;background:var(--emerald)}
.cc-wrap{display:flex;gap:8px;align-items:center}
/* Mine header */
.mine-hero{position:relative;border-radius:16px;background:linear-gradient(135deg,#059669,#34d399);color:#fff;overflow:hidden}
.mine-hero .bd{padding:16px}
.badge{background:rgba(255,255,255,.15);padding:6px 10px;border-radius:999px;font-weight:800}
.copy-btn{display:inline-grid;place-items:center;width:24px;height:24px;border-radius:6px;background:rgba(255,255,255,.2);cursor:pointer;margin-left:6px}
.grid-4{display:grid;grid-template-columns:repeat(4,1fr);gap:16px}
.icon-btn{border:1px solid var(--line);border-radius:14px;padding:14px;text-align:center;cursor:pointer;background:#fff}
.icon{font-size:22px;margin-bottom:8px}
.group-title{font-weight:900;margin:8px 0}
.rule-text{padding:12px 16px;line-height:1.7}
input[type=text],input[type=number],input[type=password],input[type=date],select{width:100%;padding:10px 12px;border:1px solid var(--line);border-radius:14px;outline:none}
</style>
</head>
<body>
<header>
  <div class="container bar">
    <div class="brand" style="display:flex;align-items:center;gap:8px">
      <div class="logo">T</div><div style="font-weight:900">TrustMe AI</div>
    </div>
    <button id="btnGetStarted" class="btn primary">Get Started</button>
  </div>
</header>

<main style="padding-bottom:84px">
  <!-- HOME (kept light; focus is Mine) -->
  <section id="page-home" class="container" style="padding:16px 0">
    <div class="row row-4">
      <a class="card bd navlink" data-nav="assets" style="text-align:center"><div class="icon">üí≥</div><div style="font-weight:800">Top‚ÄëUp</div></a>
      <a class="card bd navlink" data-nav="assets" style="text-align:center"><div class="icon">üí∏</div><div style="font-weight:800">Withdraw</div></a>
      <a class="card bd navlink" data-nav="strategy" style="text-align:center"><div class="icon">üìä</div><div style="font-weight:800">Strategy</div></a>
      <a class="card bd navlink" data-nav="mine" style="text-align:center"><div class="icon">üë§</div><div style="font-weight:800">Mine</div></a>
    </div>
    <div class="card" style="margin-top:16px">
      <div class="hd">Welcome</div>
      <div class="bd muted">Use the tabs below to manage Assets, Trading Strategy, Team, and your Profile.</div>
    </div>
  </section>

  <!-- ASSETS (placeholder to keep app complete) -->
  <section id="page-assets" class="container" style="display:none;padding:16px 0">
    <div class="card"><div class="hd">Assets</div><div class="bd">Coming from previous build. (This page still works; focus of this update is <b>Mine</b>.)</div></div>
  </section>

  <!-- STRATEGY (placeholder) -->
  <section id="page-strategy" class="container" style="display:none;padding:16px 0">
    <div class="card"><div class="hd">Strategy</div><div class="bd">Your current level: <b id="stratLevel">TMI1</b> (0.5% ~ 3%).</div></div>
  </section>

  <!-- TEAM (placeholder) -->
  <section id="page-team" class="container" style="display:none;padding:16px 0">
    <div class="card"><div class="hd">Team</div><div class="bd">Invite friends and grow your rewards.</div></div>
  </section>

  <!-- MINE -->
  <section id="page-mine" class="container" style="display:none;padding:16px 0">
    <!-- Hero -->
    <div class="mine-hero">
      <div class="bd">
        <div style="display:flex;align-items:center;justify-content:space-between;gap:8px">
          <div style="display:flex;align-items:center;gap:12px">
            <div id="avatar" style="width:48px;height:48px;border-radius:14px;background:rgba(255,255,255,.2);display:grid;place-items:center;font-weight:900">U</div>
            <div>
              <div style="font-weight:900" id="displayName">TrustMe‚ÄëUser</div>
              <div class="muted" style="color:rgba(255,255,255,.9)">
                UID: <span id="uid">‚Äî</span>
                <span class="copy-btn" id="copyUid" title="Copy UID">üìã</span>
                &nbsp; | Invite Code: <span id="invite">‚Äî</span>
                <span class="copy-btn" id="copyInvite" title="Copy invite">üìã</span>
              </div>
            </div>
          </div>
          <button id="btnUpgrade" class="btn" style="background:#fff;color:#065f46;border:none">Upgrade level</button>
        </div>

        <div style="height:14px"></div>
        <div style="display:flex;align-items:center;gap:18px">
          <div class="badge">Level <b id="levelName">TMI1</b></div>
          <div class="badge">Agent <b id="agentLevel">0</b></div>
        </div>
      </div>
    </div>

    <!-- Menu rows -->
    <div style="height:14px"></div>
    <div class="grid-4">
      <div class="icon-btn" id="btnInvite"><div class="icon">üéÅ</div><div>Invite Friends</div></div>
      <div class="icon-btn" id="btnAgent"><div class="icon">‚≠ê</div><div>Agent Level</div></div>
      <div class="icon-btn" id="btnMyProfits"><div class="icon">üíµ</div><div>My Profits</div></div>
      <div class="icon-btn" id="btnOrders"><div class="icon">üßæ</div><div>Order Record</div></div>
    </div>

    <div style="height:14px"></div>
    <div class="card">
      <div class="hd">Common Functions</div>
      <div class="bd grid-4">
        <div class="icon-btn" id="btnRules"><div class="icon">üìò</div><div>Operational Rules</div></div>
        <div class="icon-btn" id="btnSafety"><div class="icon">üõ°Ô∏è</div><div>Safety Center</div></div>
        <div class="icon-btn" id="btnFeedback"><div class="icon">‚úâÔ∏è</div><div>Feedback</div></div>
        <div class="icon-btn" id="btnHelp"><div class="icon">‚ùì</div><div>Help Center</div></div>
      </div>
    </div>

    <div style="height:14px"></div>
    <div class="card">
      <div class="hd">Other Features</div>
      <div class="bd grid-4">
        <div class="icon-btn" id="btnProfile"><div class="icon">üë§</div><div>Personal Info</div></div>
        <div class="icon-btn" id="btnAbout"><div class="icon">‚ÑπÔ∏è</div><div>About</div></div>
        <div class="icon-btn" id="btnLang"><div class="icon">üåê</div><div>Language</div></div>
        <div class="icon-btn" id="btnSupport"><div class="icon">üí¨</div><div>Customer Service</div></div>
        <div class="icon-btn" id="btnSocial"><div class="icon">üì£</div><div>Social Media</div></div>
        <div class="icon-btn" id="btnCache"><div class="icon">üßπ</div><div>Clear Cache</div></div>
      </div>
    </div>

    <div style="height:14px"></div>
    <button id="btnLogout" class="btn outline block">Log Out</button>
  </section>

  <!-- Rules screen -->
  <section id="page-rules" class="container" style="display:none;padding:0 16px 120px 16px">
    <div class="titlebar">
      <button id="backRules" class="btn outline">‚Üê</button>
      <div style="font-weight:900">Operational Rules</div>
    </div>
    <div class="rule-text">
      <p><b>TrustMe AI</b> protects your account and funds with industry‚Äëgrade security. This page summarizes the essentials in plain language.</p>
      <ol>
        <li><b>Account & Identity.</b> Keep your login secret. Enable email or phone verification for withdrawals.</li>
        <li><b>Deposits & Withdrawals.</b> Always match the network (TRC20 / BEP20 / ERC20). Incorrect networks may result in loss of funds.</li>
        <li><b>Strategy Yields.</b> Displayed yield ranges (0.5%‚Äì3% for TMI1) are targets and may vary with market conditions.</li>
        <li><b>Fees.</b> Network fees are paid to the chain. Platform fees, if any, are shown clearly before you confirm a transaction.</li>
        <li><b>Support.</b> Contact our support if you suspect unusual activity. We never ask for your password or seed phrase.</li>
      </ol>
      <p class="muted">By using TrustMe AI you agree to these terms and the full policy available in the Help Center.</p>
    </div>
  </section>
</main>

<footer class="bottom">
  <div class="container tabs">
    <div class="tab active" data-nav="home">üè†<div>Front Page</div></div>
    <div class="tab" data-nav="assets">üíº<div>Assets</div></div>
    <div class="tab" data-nav="strategy">üìä<div>Strategy</div></div>
    <div class="tab" data-nav="team">üë•<div>Team</div></div>
    <div class="tab" data-nav="mine">üë§<div>Mine</div></div>
  </div>
</footer>

<!-- Modal & Sheet -->
<div id="modal" class="modal" aria-hidden="true">
  <div class="panel">
    <div class="hd"><span id="modalTitle">Modal</span><button id="modalClose" class="btn outline">‚úï</button></div>
    <div class="bd" id="modalBody"></div>
    <div class="actions" id="modalActions"></div>
  </div>
</div>

<div id="sheet" class="sheet" aria-hidden="true">
  <div class="handle"></div>
  <div class="hd" id="sheetTitle">Select</div>
  <div class="body" id="sheetList"></div>
</div>

<script>
(function(){
  const $ = (q)=>document.querySelector(q);
  const $$ = (q)=>Array.from(document.querySelectorAll(q));
  const fmt = (n)=>Number(n||0).toLocaleString();

  // ---- State ----
  const state = {
    user: { loggedIn:false, uid:'', invite:'', name:'', level:'TMI1', agent:0 },
  };
  // try restore
  try{
    const saved = JSON.parse(localStorage.getItem('tm_user')||'null');
    if(saved && saved.loggedIn){ Object.assign(state.user, saved); }
  }catch{}

  // ---- Navigation ----
  function showPage(key){
    const pages = ['home','assets','strategy','team','mine','rules'];
    pages.forEach(p=> $('#page-'+p)?.style && ($('#page-'+p).style.display = (p===key?'block':'none')));
    $$('.tab').forEach(t=> t.classList.toggle('active', t.getAttribute('data-nav')===key));
    if(key==='mine') renderMine();
  }
  $$('.tab').forEach(t=> t.addEventListener('click', ()=> showPage(t.getAttribute('data-nav')) ));
  $$('.navlink').forEach(n=> n.addEventListener('click', (e)=>{ e.preventDefault(); showPage(n.getAttribute('data-nav')); }));

  // ---- Modal helpers ----
  function openModal(title, body, actions){
    $('#modalTitle').textContent = title;
    const b = $('#modalBody'); b.innerHTML=''; b.appendChild(body);
    const a = $('#modalActions'); a.innerHTML=''; actions.forEach(x=>a.appendChild(x));
    $('#modal').classList.add('open'); $('#modal').setAttribute('aria-hidden','false');
  }
  function closeModal(){ $('#modal').classList.remove('open'); $('#modal').setAttribute('aria-hidden','true'); }
  $('#modalClose').addEventListener('click', closeModal);
  $('#modal').addEventListener('click', (e)=>{ if(e.target.id==='modal') closeModal(); });

  // ---- Auth Modals ----
  function openLogin(){
    const wrap = document.createElement('div');
    const title = Object.assign(document.createElement('div'),{className:'auth-title',textContent:'Log In'});
    const tabs = Object.assign(document.createElement('div'),{className:'auth-tabs'});
    const tPhone = Object.assign(document.createElement('div'),{className:'auth-tab active',textContent:'Phone Number'});
    const tMail  = Object.assign(document.createElement('div'),{className:'auth-tab',textContent:'Mail'});
    tabs.append(tPhone,tMail);
    const phonePane = document.createElement('div');
    phonePane.innerHTML = '<label>Phone Number</label><div class="cc-wrap" style="margin-top:6px"><select><option>+45</option><option>+1</option></select><input type="text" placeholder="Enter your mobile phone number"></div><div style="height:10px"></div><label>Password</label><input type="password" placeholder="Enter your password">';
    const mailPane = document.createElement('div'); mailPane.style.display='none';
    mailPane.innerHTML = '<label>Mail</label><input type="text" placeholder="Enter your email address" style="margin-top:6px"><div style="height:10px"></div><label>Password</label><input type="password" placeholder="Enter your password">';
    tPhone.onclick = ()=>{ tPhone.classList.add('active'); tMail.classList.remove('active'); phonePane.style.display='block'; mailPane.style.display='none'; };
    tMail.onclick  = ()=>{ tMail.classList.add('active');  tPhone.classList.remove('active'); phonePane.style.display='none'; mailPane.style.display='block'; };
    wrap.append(title,tabs,phonePane,mailPane);
    const btnLogin = Object.assign(document.createElement('button'),{className:'btn primary',textContent:'Log In'});
    btnLogin.onclick = ()=>{
      // simulate login
      state.user.loggedIn = true;
      state.user.uid = state.user.uid || String(100000 + Math.floor(Math.random()*900000));
      state.user.invite = state.user.invite || Math.random().toString(36).slice(2,7).toUpperCase();
      state.user.name = state.user.name || 'StarsAI-'+state.user.uid;
      persistUser(); closeModal(); showPage('mine');
    };
    const linkToReg = Object.assign(document.createElement('div'), {style:'margin-right:auto; align-self:center'});
    linkToReg.innerHTML = 'Don\\'t Have An Account Yet? <span id="openReg" style="color:#059669;cursor:pointer;font-weight:800">Register Now</span>';
    setTimeout(()=> $('#openReg')?.addEventListener('click', ()=>{ closeModal(); openRegister(); }),0);
    openModal('Auth', wrap, [linkToReg, btnLogin]);
  }
  function openRegister(){
    const wrap = document.createElement('div');
    wrap.innerHTML = '<div class="auth-title">Register</div><label>Phone Number</label><div class="cc-wrap" style="margin-top:6px"><select><option>+45</option><option>+1</option></select><input type="text" placeholder="Enter your mobile phone number"></div><div style="height:10px"></div><label>Mail</label><input type="text" placeholder="Enter your email address" style="margin-top:6px"><div style="height:10px"></div><label>Invitation Code</label><input type="text" placeholder="Enter the invitation code"><div style="height:10px"></div><label>Password</label><input type="password" placeholder="6-20 characters"><div style="height:12px"></div><label style="display:flex;gap:8px;align-items:center"><input type="checkbox" checked> I Agree to the <a href="#" style="color:#059669">Privacy Policy</a></label>';
    const btnReg = Object.assign(document.createElement('button'),{className:'btn primary',textContent:'Register'});
    btnReg.onclick = ()=>{ state.user.loggedIn=true; state.user.uid = String(100000 + Math.floor(Math.random()*900000)); state.user.invite = Math.random().toString(36).slice(2,7).toUpperCase(); state.user.name = 'StarsAI-'+state.user.uid; persistUser(); closeModal(); showPage('mine'); };
    const linkToLogin = Object.assign(document.createElement('div'), {style:'margin-right:auto; align-self:center'});
    linkToLogin.innerHTML = 'Already Have An Account? <span id="openLoginNow" style="color:#059669;cursor:pointer;font-weight:800">Log In Now</span>';
    setTimeout(()=> $('#openLoginNow')?.addEventListener('click', ()=>{ closeModal(); openLogin(); }),0);
    openModal('Register', wrap, [linkToLogin, btnReg]);
  }
  $('#btnGetStarted').addEventListener('click', openLogin);

  function persistUser(){ localStorage.setItem('tm_user', JSON.stringify(state.user)); }

  // ---- Mine page ----
  function renderMine(){
    if(!state.user.loggedIn){
      // Prompt to login
      $('#page-mine').innerHTML = '<div class="card"><div class="hd">Mine</div><div class="bd">Please <button class="btn primary" id="inlineLogin">Log in</button> to view your profile.</div></div>';
      $('#inlineLogin')?.addEventListener('click', openLogin);
      return;
    }
    // restore template (minimal patch: reload page if not found)
    if(!$('#uid')){ location.reload(); return; }
    $('#displayName').textContent = state.user.name || 'TrustMe‚ÄëUser';
    $('#uid').textContent = state.user.uid || '‚Äî';
    $('#invite').textContent = state.user.invite || '‚Äî';
    $('#levelName').textContent = state.user.level;
    $('#agentLevel').textContent = state.user.agent;
    $('#stratLevel').textContent = state.user.level;
    const letter = (state.user.name||'U')[0].toUpperCase();
    $('#avatar').textContent = letter;
  }
  // copy buttons
  document.addEventListener('click', async (e)=>{
    if(e.target.id==='copyUid'){ try{ await navigator.clipboard.writeText($('#uid').textContent); alert('UID copied'); }catch{} }
    if(e.target.id==='copyInvite'){ try{ await navigator.clipboard.writeText($('#invite').textContent); alert('Invite code copied'); }catch{} }
  });

  // Mine actions
  $('#btnInvite').addEventListener('click', ()=>{
    const body = document.createElement('div');
    const link = location.origin ? (location.origin+'/register?ref='+state.user.invite) : ('https://trustmeai.online/register?ref='+state.user.invite);
    body.innerHTML = '<div style="font-weight:800">Invite Friends</div><div class="muted" style="margin:8px 0">Share your link to earn team rewards.</div><div class="card bd" style="word-break:break-all">'+link+'</div>';
    const copy = Object.assign(document.createElement('button'),{className:'btn outline',textContent:'Copy'});
    copy.onclick = async ()=>{ try{ await navigator.clipboard.writeText(link); alert('Copied'); }catch{} };
    const close = Object.assign(document.createElement('button'),{className:'btn primary',textContent:'Close'});
    openModal('Invite', body, [copy, close]);
  });
  $('#btnAgent').addEventListener('click', ()=>{
    const body = document.createElement('div');
    body.innerHTML = '<b>Agent Levels</b><p class="muted">Increase your referrals and performance to unlock higher agent rebates.</p>';
    const close = Object.assign(document.createElement('button'),{className:'btn primary',textContent:'Close'});
    openModal('Agent Level', body, [close]);
  });
  $('#btnMyProfits').addEventListener('click', ()=>{
    alert('Redirecting to Assets ‚Üí My Profits'); showPage('assets');
  });
  $('#btnOrders').addEventListener('click', ()=>{
    const body = document.createElement('div'); body.innerHTML='<div class="muted">No orders yet.</div>';
    const close = Object.assign(document.createElement('button'),{className:'btn primary',textContent:'Close'});
    openModal('Order Record', body, [close]);
  });
  $('#btnRules').addEventListener('click', ()=> showPage('rules'));
  $('#backRules').addEventListener('click', ()=> showPage('mine'));
  $('#btnSafety').addEventListener('click', ()=>{
    const body = document.createElement('div'); body.innerHTML = '<ul><li>Bind email for withdrawals</li><li>Use a strong password</li><li>Never share codes</li></ul>';
    const close = Object.assign(document.createElement('button'),{className:'btn primary',textContent:'Close'});
    openModal('Safety Center', body, [close]);
  });
  $('#btnFeedback').addEventListener('click', ()=>{
    const body = document.createElement('div');
    body.innerHTML = '<label>Feedback</label><textarea id="fb" style="width:100%;min-height:120px;border:1px solid #e2e8f0;border-radius:12px;padding:10px" placeholder="Tell us what to improve‚Ä¶"></textarea>';
    const send = Object.assign(document.createElement('button'),{className:'btn primary',textContent:'Send'});
    send.onclick = ()=>{ alert('Thanks!'); closeModal(); };
    openModal('Feedback', body, [send]);
  });
  $('#btnHelp').addEventListener('click', ()=>{
    const body = document.createElement('div');
    body.innerHTML = '<div style="font-weight:800">Help Center</div><p class="muted">FAQs, guides, and support contacts.</p>';
    const close = Object.assign(document.createElement('button'),{className:'btn primary',textContent:'Close'});
    openModal('Help Center', body, [close]);
  });
  $('#btnProfile').addEventListener('click', ()=>{
    const body = document.createElement('div');
    body.innerHTML = '<label>Display Name</label><input id="nm" type="text" value="'+(state.user.name||'')+'" style="margin-top:6px"><div style="height:8px"></div><label>Agent Level</label><input id="ag" type="number" value="'+(state.user.agent||0)+'">';
    const save = Object.assign(document.createElement('button'),{className:'btn primary',textContent:'Save'});
    save.onclick = ()=>{ state.user.name = document.getElementById('nm').value||state.user.name; state.user.agent = Number(document.getElementById('ag').value||0); persistUser(); renderMine(); closeModal(); };
    openModal('Personal Info', body, [save]);
  });
  $('#btnAbout').addEventListener('click', ()=>{
    const body = document.createElement('div'); body.innerHTML = '<b>TrustMe AI</b><p class="muted">Version 0.4 ‚Äî UI preview for profile (Mine) and rules.</p>';
    const close = Object.assign(document.createElement('button'),{className:'btn primary',textContent:'Close'});
    openModal('About', body, [close]);
  });
  $('#btnLang').addEventListener('click', ()=>{
    const body = document.createElement('div'); body.innerHTML = '<label>Language</label><select id="lng"><option value="en">English</option><option value="da">Dansk</option><option value="te">‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å</option></select>';
    const save = Object.assign(document.createElement('button'),{className:'btn primary',textContent:'Save'});
    save.onclick = ()=>{ alert('Language saved'); closeModal(); };
    openModal('Language', body, [save]);
  });
  $('#btnSupport').addEventListener('click', ()=>{
    const body = document.createElement('div'); body.innerHTML = '<p>Chat with us on Telegram: <a target="_blank" href="#">@trustme_support</a></p><p>Email: support@trustmeai.online</p>';
    const close = Object.assign(document.createElement('button'),{className:'btn primary',textContent:'Close'});
    openModal('Customer Service', body, [close]);
  });
  $('#btnSocial').addEventListener('click', ()=>{
    const body = document.createElement('div'); body.innerHTML = '<ul><li>Twitter: @trustme_ai</li><li>Telegram Channel: @trustmeai_news</li></ul>';
    const close = Object.assign(document.createElement('button'),{className:'btn primary',textContent:'Close'});
    openModal('Social Media', body, [close]);
  });
  $('#btnCache').addEventListener('click', ()=>{
    localStorage.removeItem('tm_user'); alert('Cache cleared for session data.');
  });
  $('#btnLogout').addEventListener('click', ()=>{
    state.user.loggedIn = false; persistUser(); showPage('home');
  });

  // Init
  showPage(state.user.loggedIn ? 'mine' : 'home');
  if(state.user.loggedIn) renderMine();
  // Expose for testing in console
  window.__APP_STATE__ = state;
})();
</script>
</body>
</html>
