<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>TrustMe AI ‚Äî App</title>
<style>
:root{--ink:#0f172a;--muted:#64748b;--line:#e5e7eb;--brand:#111827;--emerald:#10b981}
*{box-sizing:border-box}
html,body{margin:0;background:#fff;color:var(--ink);font:16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial}
.container{max-width:1100px;margin:0 auto;padding:0 16px}
.card{border:1px solid var(--line);border-radius:16px;background:#fff}
.card .hd{padding:14px;border-bottom:1px solid var(--line);font-weight:800}
.card .bd{padding:14px}
.btn{padding:10px 16px;border-radius:14px;border:1px solid var(--line);background:#fff;font-weight:800;cursor:pointer}
.btn.primary{background:var(--brand);color:#fff;border-color:transparent}
.btn.outline{background:#fff;color:#111;border-color:var(--line)}
.btn.block{display:block;width:100%}
.btn:disabled{opacity:.5;pointer-events:none}
header{position:sticky;top:0;z-index:10;background:rgba(255,255,255,.92);backdrop-filter:blur(8px);border-bottom:1px solid var(--line)}
.bar{display:flex;align-items:center;justify-content:space-between;padding:12px 0}
.logo{width:32px;height:32px;border-radius:10px;background:var(--brand);color:#fff;display:grid;place-items:center;font-weight:900}
.bottom{position:fixed;left:0;right:0;bottom:0;border-top:1px solid var(--line);background:#fff}
.tabs{display:grid;grid-template-columns:repeat(5,1fr);text-align:center;font-size:12px}
.tab{padding:10px 0;cursor:pointer}
.active{color:var(--emerald);font-weight:800}
.row{display:grid;gap:12px}
@media(min-width:860px){.row-4{grid-template-columns:repeat(4,1fr)}}
.titlebar{position:sticky;top:56px;background:#fff;border-bottom:1px solid var(--line);display:flex;align-items:center;gap:8px;padding:12px 0;z-index:9}
/* Mine */
.mine-hero{border-radius:16px;background:linear-gradient(135deg,#059669,#34d399);color:#fff;overflow:hidden}
.mine-hero .bd{padding:16px}
.badge{background:rgba(255,255,255,.15);padding:6px 10px;border-radius:999px;font-weight:800}
.copy-btn{display:inline-grid;place-items:center;width:24px;height:24px;border-radius:6px;background:rgba(255,255,255,.2);cursor:pointer;margin-left:6px}
.grid-4{display:grid;grid-template-columns:repeat(4,1fr);gap:16px}
.icon-btn{border:1px solid var(--line);border-radius:14px;padding:14px;text-align:center;cursor:pointer;background:#fff}
.icon{font-size:22px;margin-bottom:8px}
/* Modal */
.modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(15,23,42,.35)}
.modal.open{display:flex}
.modal .panel{width:min(560px,96vw);background:#fff;border:1px solid var(--line);border-radius:16px}
.modal .panel .hd{display:flex;align-items:center;justify-content:space-between;padding:14px;border-bottom:1px solid var(--line);font-weight:900}
.modal .panel .bd{padding:14px}
.modal .actions{display:flex;gap:8px;justify-content:flex-end;padding:14px;border-top:1px solid var(--line)}
.auth-title{font-size:22px;font-weight:900;margin-bottom:8px}
.auth-tabs{display:flex;gap:20px;font-weight:800;color:var(--muted);border-bottom:1px solid var(--line);margin:10px 0 16px}
.auth-tab{padding:8px 0;cursor:pointer;position:relative}
.auth-tab.active{color:#111}
.auth-tab.active::after{content:'';position:absolute;left:0;right:0;bottom:-1px;height:2px;background:var(--emerald)}
input[type=text],input[type=number],input[type=password],select{width:100%;padding:10px 12px;border:1px solid var(--line);border-radius:14px;outline:none}
.muted{color:var(--muted)}
main{padding-bottom:84px}
</style>
</head>
<body>
<header>
  <div class="container bar">
    <div style="display:flex;align-items:center;gap:8px">
      <div class="logo">T</div><div style="font-weight:900">TrustMe AI</div>
    </div>
    <button id="btnGetStarted" class="btn primary">Get Started</button>
  </div>
</header>

<main>
  <!-- HOME -->
  <section id="page-home" class="container" style="padding:16px 0">
    <div class="row row-4">
      <a class="card bd navlink" data-nav="assets" style="text-align:center"><div class="icon">üí≥</div><div style="font-weight:800">Top‚ÄëUp</div></a>
      <a class="card bd navlink" data-nav="assets" style="text-align:center"><div class="icon">üí∏</div><div style="font-weight:800">Withdraw</div></a>
      <a class="card bd navlink" data-nav="strategy" style="text-align:center"><div class="icon">üìä</div><div style="font-weight:800">Strategy</div></a>
      <a class="card bd navlink" data-nav="mine" style="text-align:center"><div class="icon">üë§</div><div style="font-weight:800">Mine</div></a>
    </div>
    <div class="card" style="margin-top:16px">
      <div class="hd">Welcome</div>
      <div class="bd muted">Use the tabs below to manage Assets, Trading Strategy, Team, and your Profile.</div>
    </div>
  </section>

  <!-- ASSETS -->
  <section id="page-assets" class="container" style="display:none;padding:16px 0">
    <div class="card"><div class="hd">Assets</div><div class="bd">This page is placeholder. (Focus of this build is Mine.)</div></div>
  </section>

  <!-- STRATEGY -->
  <section id="page-strategy" class="container" style="display:none;padding:16px 0">
    <div class="card"><div class="hd">Strategy</div><div class="bd">Current plan: <b>TMI1</b> ‚Äî 50 to 300,000 USDT, target yield <b>0.5% ‚Äì 3%</b>.</div></div>
  </section>

  <!-- TEAM -->
  <section id="page-team" class="container" style="display:none;padding:16px 0">
    <div class="card"><div class="hd">Team</div><div class="bd">Invite friends and grow your rewards.</div></div>
  </section>

  <!-- MINE -->
  <section id="page-mine" class="container" style="display:none;padding:16px 0">
    <!-- Signed out -->
    <div id="mineSignedOut">
      <div class="card">
        <div class="hd">Mine</div>
        <div class="bd">Please <button class="btn primary" id="inlineLogin">Log in</button> to view your profile.</div>
      </div>
    </div>

    <!-- Signed in -->
    <div id="mineSignedIn" style="display:none">
      <div class="mine-hero">
        <div class="bd">
          <div style="display:flex;align-items:center;justify-content:space-between;gap:8px">
            <div style="display:flex;align-items:center;gap:12px">
              <div id="avatar" style="width:48px;height:48px;border-radius:14px;background:rgba(255,255,255,.2);display:grid;place-items:center;font-weight:900">U</div>
              <div>
                <div style="font-weight:900" id="displayName">TrustMe‚ÄëUser</div>
                <div style="color:rgba(255,255,255,.9)">
                  UID: <span id="uid">‚Äî</span>
                  <span class="copy-btn" id="copyUid" title="Copy UID">üìã</span>
                  &nbsp; | Invite Code: <span id="invite">‚Äî</span>
                  <span class="copy-btn" id="copyInvite" title="Copy invite">üìã</span>
                </div>
              </div>
            </div>
            <button id="btnUpgrade" class="btn" style="background:#fff;color:#065f46;border:none">Upgrade level</button>
          </div>
          <div style="height:14px"></div>
          <div style="display:flex;align-items:center;gap:18px">
            <div class="badge">Level <b id="levelName">TMI1</b></div>
            <div class="badge">Agent <b id="agentLevel">0</b></div>
          </div>
        </div>
      </div>

      <div style="height:14px"></div>
      <div class="grid-4">
        <div class="icon-btn" id="btnInvite"><div class="icon">üéÅ</div><div>Invite Friends</div></div>
        <div class="icon-btn" id="btnAgent"><div class="icon">‚≠ê</div><div>Agent Level</div></div>
        <div class="icon-btn" id="btnMyProfits"><div class="icon">üíµ</div><div>My Profits</div></div>
        <div class="icon-btn" id="btnOrders"><div class="icon">üßæ</div><div>Order Record</div></div>
      </div>

      <div style="height:14px"></div>
      <div class="card">
        <div class="hd">Common Functions</div>
        <div class="bd grid-4">
          <div class="icon-btn" id="btnRules"><div class="icon">üìò</div><div>Operational Rules</div></div>
          <div class="icon-btn" id="btnSafety"><div class="icon">üõ°Ô∏è</div><div>Safety Center</div></div>
          <div class="icon-btn" id="btnFeedback"><div class="icon">‚úâÔ∏è</div><div>Feedback</div></div>
          <div class="icon-btn" id="btnHelp"><div class="icon">‚ùì</div><div>Help Center</div></div>
        </div>
      </div>

      <div style="height:14px"></div>
      <div class="card">
        <div class="hd">Other Features</div>
        <div class="bd grid-4">
          <div class="icon-btn" id="btnProfile"><div class="icon">üë§</div><div>Personal Info</div></div>
          <div class="icon-btn" id="btnAbout"><div class="icon">‚ÑπÔ∏è</div><div>About</div></div>
          <div class="icon-btn" id="btnLang"><div class="icon">üåê</div><div>Language</div></div>
          <div class="icon-btn" id="btnSupport"><div class="icon">üí¨</div><div>Customer Service</div></div>
          <div class="icon-btn" id="btnSocial"><div class="icon">üì£</div><div>Social Media</div></div>
          <div class="icon-btn" id="btnCache"><div class="icon">üßπ</div><div>Clear Cache</div></div>
        </div>
      </div>

      <div style="height:14px"></div>
      <button id="btnLogout" class="btn outline block">Log Out</button>
    </div>
  </section>

  <!-- RULES -->
  <section id="page-rules" class="container" style="display:none;padding:0 16px 120px 16px">
    <div class="titlebar">
      <button id="backRules" class="btn outline">‚Üê</button>
      <div style="font-weight:900">Operational Rules</div>
    </div>
    <div class="card" style="margin-top:12px">
      <div class="bd">
        <p><b>TrustMe AI</b> protects your account and funds with industry‚Äëgrade security. This page summarizes the essentials.</p>
        <ol>
          <li><b>Account.</b> Keep your login secret. Enable phone/email verification for withdrawals.</li>
          <li><b>Networks.</b> Always match the chain (TRC20 / BEP20 / ERC20) when depositing/withdrawing.</li>
          <li><b>Strategy.</b> TMI1 targets 0.5%‚Äì3% daily depending on market conditions.</li>
          <li><b>Fees.</b> Network gas is paid to the blockchain. Platform fees (if any) are shown before confirm.</li>
          <li><b>Support.</b> We never ask for your password or seed phrase.</li>
        </ol>
      </div>
    </div>
  </section>
</main>

<footer class="bottom">
  <div class="container tabs">
    <div class="tab active" data-nav="home">üè†<div>Front Page</div></div>
    <div class="tab" data-nav="assets">üíº<div>Assets</div></div>
    <div class="tab" data-nav="strategy">üìä<div>Strategy</div></div>
    <div class="tab" data-nav="team">üë•<div>Team</div></div>
    <div class="tab" data-nav="mine">üë§<div>Mine</div></div>
  </div>
</footer>

<!-- Modal -->
<div id="modal" class="modal" aria-hidden="true">
  <div class="panel">
    <div class="hd"><span id="modalTitle">Modal</span><button id="modalClose" class="btn outline">‚úï</button></div>
    <div class="bd" id="modalBody"></div>
    <div class="actions" id="modalActions"></div>
  </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function(){
  const $ = (q)=>document.querySelector(q);
  const $$ = (q)=>Array.from(document.querySelectorAll(q));

  // ----- STATE & STORAGE -----
  const state = {user:{loggedIn:false, uid:'', invite:'', name:'', level:'TMI1', agent:0}};
  try{ const saved = JSON.parse(localStorage.getItem('tm_user')||'null'); if(saved && saved.loggedIn) Object.assign(state.user, saved); }catch{}

  function persist(){ localStorage.setItem('tm_user', JSON.stringify(state.user)); }

  // ----- NAVIGATION -----
  function showPage(key){
    const pages=['home','assets','strategy','team','mine','rules'];
    pages.forEach(p=> $('#page-'+p).style.display = (p===key?'block':'none'));
    $$('.tab').forEach(t=> t.classList.toggle('active', t.dataset.nav===key));
    if(key==='mine') renderMine();
  }
  $$('.tab').forEach(t=> t.addEventListener('click', ()=> showPage(t.dataset.nav)));
  $$('.navlink').forEach(n=> n.addEventListener('click', (e)=>{e.preventDefault(); showPage(n.dataset.nav);}));
  $('#backRules').addEventListener('click', ()=> showPage('mine'));

  // ----- MODAL HELPERS -----
  function openModal(title, bodyNode, actions){
    $('#modalTitle').textContent = title;
    const b = $('#modalBody'); b.innerHTML=''; b.appendChild(bodyNode);
    const a = $('#modalActions'); a.innerHTML=''; actions.forEach(btn=>a.appendChild(btn));
    $('#modal').classList.add('open'); $('#modal').setAttribute('aria-hidden','false');
  }
  function closeModal(){ $('#modal').classList.remove('open'); $('#modal').setAttribute('aria-hidden','true'); }
  $('#modalClose').addEventListener('click', closeModal);
  $('#modal').addEventListener('click', (e)=>{ if(e.target.id==='modal') closeModal(); });

  // ----- AUTH -----
  function openLogin(){
    const wrap = document.createElement('div');
    wrap.innerHTML = `<div class="auth-title">Log In</div>
      <div class="auth-tabs"><div id="tabPhone" class="auth-tab active">Phone Number</div><div id="tabMail" class="auth-tab">Mail</div></div>
      <div id="panePhone">
        <label>Phone Number</label>
        <div style="display:flex;gap:8px;margin-top:6px"><select><option>+45</option><option>+1</option></select><input type="text" placeholder="Enter your mobile phone number"></div>
        <div style="height:10px"></div><label>Password</label><input type="password" placeholder="Enter your password">
      </div>
      <div id="paneMail" style="display:none">
        <label>Mail</label><input type="text" placeholder="Enter your email address" style="margin-top:6px">
        <div style="height:10px"></div><label>Password</label><input type="password" placeholder="Enter your password">
      </div>`;
    wrap.querySelector('#tabPhone').onclick = ()=>{ wrap.querySelector('#tabPhone').classList.add('active'); wrap.querySelector('#tabMail').classList.remove('active'); wrap.querySelector('#panePhone').style.display='block'; wrap.querySelector('#paneMail').style.display='none'; };
    wrap.querySelector('#tabMail').onclick  = ()=>{ wrap.querySelector('#tabMail').classList.add('active');  wrap.querySelector('#tabPhone').classList.remove('active'); wrap.querySelector('#panePhone').style.display='none'; wrap.querySelector('#paneMail').style.display='block'; };

    const btnLogin = Object.assign(document.createElement('button'),{className:'btn primary',textContent:'Log In'});
    btnLogin.onclick = ()=>{
      state.user.loggedIn = true;
      state.user.uid = state.user.uid || String(100000 + Math.floor(Math.random()*900000));
      state.user.invite = state.user.invite || Math.random().toString(36).slice(2,7).toUpperCase();
      state.user.name = state.user.name || ('StarsAI-'+state.user.uid);
      persist(); closeModal(); showPage('mine');
    };
    const linkToReg = Object.assign(document.createElement('button'),{className:'btn outline',textContent:'Register Now'});
    linkToReg.style.marginRight='auto';
    linkToReg.onclick = ()=>{ closeModal(); openRegister(); };
    openModal('Auth', wrap, [linkToReg, btnLogin]);
  }
  function openRegister(){
    const wrap = document.createElement('div');
    wrap.innerHTML = `<div class="auth-title">Register</div>
      <label>Phone Number</label>
      <div style="display:flex;gap:8px;margin-top:6px"><select><option>+45</option><option>+1</option></select><input type="text" placeholder="Enter your mobile phone number"></div>
      <div style="height:10px"></div><label>Mail</label><input type="text" placeholder="Enter your email address" style="margin-top:6px">
      <div style="height:10px"></div><label>Invitation Code</label><input type="text" placeholder="Enter the invitation code">
      <div style="height:10px"></div><label>Password</label><input type="password" placeholder="6-20 characters">`;
    const btnReg = Object.assign(document.createElement('button'),{className:'btn primary',textContent:'Register'});
    btnReg.onclick = ()=>{ state.user.loggedIn=true; state.user.uid=String(100000+Math.floor(Math.random()*900000)); state.user.invite=Math.random().toString(36).slice(2,7).toUpperCase(); state.user.name='StarsAI-'+state.user.uid; persist(); closeModal(); showPage('mine'); };
    const linkToLogin = Object.assign(document.createElement('button'),{className:'btn outline',textContent:'Log In Now'});
    linkToLogin.style.marginRight='auto';
    linkToLogin.onclick = ()=>{ closeModal(); openLogin(); };
    openModal('Register', wrap, [linkToLogin, btnReg]);
  }

  // Buttons that open auth
  $('#btnGetStarted').addEventListener('click', openLogin);
  document.body.addEventListener('click', (e)=>{
    if(e.target && e.target.id==='inlineLogin') openLogin();
  });

  // ----- MINE RENDER -----
  function fallbackCopy(text){
    try{
      const ta=document.createElement('textarea'); ta.value=text; document.body.appendChild(ta); ta.select(); document.execCommand('copy'); ta.remove(); alert('Copied'); 
    }catch(e){ console.log(e); }
  }
  function renderMine(){
    const signedIn = state.user.loggedIn;
    $('#mineSignedIn').style.display = signedIn ? 'block' : 'none';
    $('#mineSignedOut').style.display = signedIn ? 'none' : 'block';
    if(!signedIn) return;
    // set fields
    $('#displayName').textContent = state.user.name || 'TrustMe‚ÄëUser';
    $('#uid').textContent = state.user.uid || '‚Äî';
    $('#invite').textContent = state.user.invite || '‚Äî';
    $('#levelName').textContent = state.user.level;
    $('#agentLevel').textContent = state.user.agent;
    $('#avatar').textContent = (state.user.name||'U')[0].toUpperCase();
  }

  // Mine action handlers (delegated, so they always work)
  document.body.addEventListener('click', async (e)=>{
    const id = e.target.id;
    if(id==='copyUid'){ const t=$('#uid').textContent; try{ await navigator.clipboard.writeText(t); alert('Copied'); }catch{ fallbackCopy(t); } }
    if(id==='copyInvite'){ const t=$('#invite').textContent; try{ await navigator.clipboard.writeText(t); alert('Copied'); }catch{ fallbackCopy(t); } }
    if(id==='btnInvite'){
      const body=document.createElement('div');
      const link=(location.origin?location.origin:'https://trustmeai.online') + '/register?ref=' + (state.user.invite||'TMAI');
      body.innerHTML='<div style="font-weight:800">Invite Friends</div><div class="muted" style="margin:8px 0">Share your link:</div><div class="card bd" style="word-break:break-all">'+link+'</div>';
      const copy=Object.assign(document.createElement('button'),{className:'btn outline',textContent:'Copy'});
      copy.onclick=async()=>{ try{await navigator.clipboard.writeText(link); alert('Copied');}catch{fallbackCopy(link);} };
      const close=Object.assign(document.createElement('button'),{className:'btn primary',textContent:'Close'});
      openModal('Invite', body, [copy, close]);
    }
    if(id==='btnAgent'){
      const body=document.createElement('div');
      body.innerHTML='<b>Agent Levels</b><p class="muted">Grow referrals to unlock higher agent rebates.</p>';
      const close=Object.assign(document.createElement('button'),{className:'btn primary',textContent:'Close'});
      openModal('Agent Level', body, [close]);
    }
    if(id==='btnMyProfits'){ showPage('assets'); }
    if(id==='btnOrders'){
      const body=document.createElement('div'); body.innerHTML='<div class="muted">No orders yet.</div>';
      const close=Object.assign(document.createElement('button'),{className:'btn primary',textContent:'Close'});
      openModal('Order Record', body, [close]);
    }
    if(id==='btnRules'){ showPage('rules'); }
    if(id==='btnSafety'){
      const body=document.createElement('div'); body.innerHTML='<ul><li>Bind email for withdrawals</li><li>Use a strong password</li><li>Never share codes</li></ul>';
      const close=Object.assign(document.createElement('button'),{className:'btn primary',textContent:'Close'});
      openModal('Safety Center', body, [close]);
    }
    if(id==='btnFeedback'){
      const body=document.createElement('div'); body.innerHTML='<label>Feedback</label><textarea style="width:100%;min-height:120px;border:1px solid #e2e7eb;border-radius:12px;padding:10px" placeholder="Tell us what to improve‚Ä¶"></textarea>';
      const send=Object.assign(document.createElement('button'),{className:'btn primary',textContent:'Send'});
      send.onclick=()=>{ alert('Thanks!'); closeModal(); };
      openModal('Feedback', body, [send]);
    }
    if(id==='btnHelp'){
      const body=document.createElement('div'); body.innerHTML='<div style="font-weight:800">Help Center</div><p class="muted">FAQs, guides, and support contacts.</p>';
      const close=Object.assign(document.createElement('button'),{className:'btn primary',textContent:'Close'});
      openModal('Help Center', body, [close]);
    }
    if(id==='btnProfile'){
      const body=document.createElement('div');
      body.innerHTML='<label>Display Name</label><input id="nm" type="text" value="'+(state.user.name||'')+'" style="margin-top:6px"><div style="height:8px"></div><label>Agent Level</label><input id="ag" type="number" value="'+(state.user.agent||0)+'">';
      const save=Object.assign(document.createElement('button'),{className:'btn primary',textContent:'Save'});
      save.onclick=()=>{ state.user.name=$('#nm').value||state.user.name; state.user.agent=Number($('#ag').value||0); persist(); renderMine(); closeModal(); };
      openModal('Personal Info', body, [save]);
    }
    if(id==='btnAbout'){
      const body=document.createElement('div'); body.innerHTML='<b>TrustMe AI</b><p class="muted">Version 0.5 ‚Äî stable profile & auth popups.</p>';
      const close=Object.assign(document.createElement('button'),{className:'btn primary',textContent:'Close'});
      openModal('About', body, [close]);
    }
    if(id==='btnLang'){
      const body=document.createElement('div'); body.innerHTML='<label>Language</label><select><option>English</option><option>Dansk</option><option>‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å</option></select>';
      const close=Object.assign(document.createElement('button'),{className:'btn primary',textContent:'Close'});
      openModal('Language', body, [close]);
    }
    if(id==='btnSupport'){
      const body=document.createElement('div'); body.innerHTML='<p>Telegram: @trustme_support</p><p>Email: support@trustmeai.online</p>';
      const close=Object.assign(document.createElement('button'),{className:'btn primary',textContent:'Close'});
      openModal('Customer Service', body, [close]);
    }
    if(id==='btnSocial'){
      const body=document.createElement('div'); body.innerHTML='<ul><li>Twitter: @trustme_ai</li><li>Telegram: @trustmeai_news</li></ul>';
      const close=Object.assign(document.createElement('button'),{className:'btn primary',textContent:'Close'});
      openModal('Social Media', body, [close]);
    }
    if(id==='btnCache'){ localStorage.removeItem('tm_user'); alert('Cache cleared.'); }
    if(id==='btnLogout'){ state.user.loggedIn=false; persist(); renderMine(); showPage('home'); }
  });

  // Init page
  showPage(state.user.loggedIn ? 'mine' : 'home');
  renderMine();
});
</script>
</body>
</html>
